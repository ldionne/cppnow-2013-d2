<!SLIDE subsection>
# `d2`: a library-based approach


<!SLIDE bullets incremental>
# Goals

* Detect lock order inconsistencies between N threads
* Support custom locks and threads easily
* Low overhead when enabled, none when disabled
* Very few false positives


<!SLIDE bullets incremental skip>
# Why intrusive?

* Easier to implement (main reason)
* Could write a wrapper to automatically instrument code
* Custom synchronization objects
